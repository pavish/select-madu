var SelectMadu=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function o(){return Object.create(null)}function c(t){t.forEach(n)}function i(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e}function r(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function f(t){return document.createElement(t)}function a(t){return document.createTextNode(t)}function d(){return a(" ")}function p(){return a("")}function h(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function m(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function g(t,e){e=""+e,t.data!==e&&(t.data=e)}function y(t,e){(null!=e||t.value)&&(t.value=e)}function $(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}function x(t,e,n){t.classList[n?"add":"remove"](e)}let v;function K(t){v=t}function b(){if(!v)throw new Error("Function called outside component initialization");return v}function C(){const t=b();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const c=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);o.slice().forEach(e=>{e.call(t,c)})}}}function w(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(t=>t(e))}const S=[],_=[],k=[],F=[],E=Promise.resolve();let L=!1;function T(){L||(L=!0,E.then(D))}function A(){return T(),E}function N(t){k.push(t)}let M=!1;const q=new Set;function D(){if(!M){M=!0;do{for(let t=0;t<S.length;t+=1){const e=S[t];K(e),U(e.$$)}for(S.length=0;_.length;)_.pop()();for(let t=0;t<k.length;t+=1){const e=k[t];q.has(e)||(q.add(e),e())}k.length=0}while(S.length);for(;F.length;)F.pop()();L=!1,M=!1,q.clear()}}function U(t){if(null!==t.fragment){t.update(),c(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(N)}}const B=new Set;let O;function P(){O={r:0,c:[],p:O}}function j(){O.r||c(O.c),O=O.p}function H(t,e){t&&t.i&&(B.delete(t),t.i(e))}function I(t,e,n,o){if(t&&t.o){if(B.has(t))return;B.add(t),O.c.push(()=>{B.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}function z(t,e){t.d(1),e.delete(t.key)}function G(t){t&&t.c()}function J(t,e,o){const{fragment:l,on_mount:r,on_destroy:s,after_update:u}=t.$$;l&&l.m(e,o),N(()=>{const e=r.map(n).filter(i);s?s.push(...e):c(e),t.$$.on_mount=[]}),u.forEach(N)}function Q(t,e){const n=t.$$;null!==n.fragment&&(c(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function R(e,n,i,l,r,s,f=[-1]){const a=v;K(e);const d=n.props||{},p=e.$$={fragment:null,ctx:null,props:s,update:t,not_equal:r,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:o(),dirty:f};let h=!1;if(p.ctx=i?i(e,d,(t,n,...o)=>{const c=o.length?o[0]:n;return p.ctx&&r(p.ctx[t],p.ctx[t]=c)&&(p.bound[t]&&p.bound[t](c),h&&function(t,e){-1===t.$$.dirty[0]&&(S.push(t),T(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n}):[],p.update(),h=!0,c(p.before_update),p.fragment=!!l&&l(p.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);p.fragment&&p.fragment.l(t),t.forEach(u)}else p.fragment&&p.fragment.c();n.intro&&H(e.$$.fragment),J(e,n.target,n.anchor),D()}K(a)}class V{$destroy(){Q(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function W(t,e,n){const o=t.slice();return o[10]=e[n],o}function X(t){let e,n,o,c,i,l,a;const p=[tt,Z],g=[];function y(t,e){return t[1]?0:1}function $(...e){return t[9](t[10],...e)}return n=y(t),o=g[n]=p[n](t),{c(){e=f("li"),o.c(),c=d(),m(e,"class",i="o "+(t[10].classes?t[10].classes:"")),x(e,"disabled",t[10].disabled),x(e,"selected",t[5](t[10]))},m(t,o,i){s(t,e,o),g[n].m(e,null),r(e,c),l=!0,i&&a(),a=h(e,"click",$)},p(r,s){let u=n;n=y(t=r),n===u?g[n].p(t,s):(P(),I(g[u],1,1,()=>{g[u]=null}),j(),o=g[n],o||(o=g[n]=p[n](t),o.c()),H(o,1),o.m(e,c)),(!l||1&s&&i!==(i="o "+(t[10].classes?t[10].classes:"")))&&m(e,"class",i),1&s&&x(e,"disabled",t[10].disabled),33&s&&x(e,"selected",t[5](t[10]))},i(t){l||(H(o),l=!0)},o(t){I(o),l=!1},d(t){t&&u(e),g[n].d(),a()}}}function Y(t){let e,n,o,c,i=t[4]("optionParent",t[10])+"";const l=new ct({props:{options:t[10][t[3]],textKey:t[2],childKey:t[3],getFormatted:t[4],isSelected:t[5],optionComponent:t[1]}});return l.$on("selection",t[8]),{c(){e=f("li"),n=a(i),o=d(),G(l.$$.fragment),m(e,"class","o-h")},m(t,i){s(t,e,i),r(e,n),s(t,o,i),J(l,t,i),c=!0},p(t,e){(!c||17&e)&&i!==(i=t[4]("optionParent",t[10])+"")&&g(n,i);const o={};9&e&&(o.options=t[10][t[3]]),4&e&&(o.textKey=t[2]),8&e&&(o.childKey=t[3]),16&e&&(o.getFormatted=t[4]),32&e&&(o.isSelected=t[5]),2&e&&(o.optionComponent=t[1]),l.$set(o)},i(t){c||(H(l.$$.fragment,t),c=!0)},o(t){I(l.$$.fragment,t),c=!1},d(t){t&&u(e),t&&u(o),Q(l,t)}}}function Z(e){let n,o=e[4]("option",e[10])+"";return{c(){n=a(o)},m(t,e){s(t,n,e)},p(t,e){17&e&&o!==(o=t[4]("option",t[10])+"")&&g(n,o)},i:t,o:t,d(t){t&&u(n)}}}function tt(t){let n,o;const c=[t[10]];var i=t[1];function l(t){let n={};for(let t=0;t<c.length;t+=1)n=e(n,c[t]);return{props:n}}if(i)var r=new i(l());return{c(){r&&G(r.$$.fragment),n=p()},m(t,e){r&&J(r,t,e),s(t,n,e),o=!0},p(t,e){const o=1&e?function(t,e){const n={},o={},c={$$scope:1};let i=t.length;for(;i--;){const l=t[i],r=e[i];if(r){for(const t in l)t in r||(o[t]=1);for(const t in r)c[t]||(n[t]=r[t],c[t]=1);t[i]=r}else for(const t in l)c[t]=1}for(const t in o)t in n||(n[t]=void 0);return n}(c,[(s=t[10],"object"==typeof s&&null!==s?s:{})]):{};var s;if(i!==(i=t[1])){if(r){P();const t=r;I(t.$$.fragment,1,0,()=>{Q(t,1)}),j()}i?(G((r=new i(l())).$$.fragment),H(r.$$.fragment,1),J(r,n.parentNode,n)):r=null}else i&&r.$set(o)},i(t){o||(r&&H(r.$$.fragment,t),o=!0)},o(t){r&&I(r.$$.fragment,t),o=!1},d(t){t&&u(n),r&&Q(r,t)}}}function et(t){let e,n,o,c;const i=[Y,X],l=[];function r(t,e){return t[10][t[3]]?0:1}return e=r(t),n=l[e]=i[e](t),{c(){n.c(),o=p()},m(t,n){l[e].m(t,n),s(t,o,n),c=!0},p(t,c){let s=e;e=r(t),e===s?l[e].p(t,c):(P(),I(l[s],1,1,()=>{l[s]=null}),j(),n=l[e],n||(n=l[e]=i[e](t),n.c()),H(n,1),n.m(o.parentNode,o))},i(t){c||(H(n),c=!0)},o(t){I(n),c=!1},d(t){l[e].d(t),t&&u(o)}}}function nt(t){let e,n,o=t[0],c=[];for(let e=0;e<o.length;e+=1)c[e]=et(W(t,o,e));const i=t=>I(c[t],1,1,()=>{c[t]=null});return{c(){e=f("ul");for(let t=0;t<c.length;t+=1)c[t].c()},m(t,o){s(t,e,o);for(let t=0;t<c.length;t+=1)c[t].m(e,null);n=!0},p(t,[n]){if(127&n){let l;for(o=t[0],l=0;l<o.length;l+=1){const i=W(t,o,l);c[l]?(c[l].p(i,n),H(c[l],1)):(c[l]=et(i),c[l].c(),H(c[l],1),c[l].m(e,null))}for(P(),l=o.length;l<c.length;l+=1)i(l);j()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)H(c[t]);n=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)I(c[t]);n=!1},d(t){t&&u(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(c,t)}}}function ot(t,e,n){const o=C();let{options:c=[]}=e,{optionComponent:i}=e,{textKey:l}=e,{childKey:r}=e,{getFormatted:s}=e,{isSelected:u}=e;function f(t){o("selection",t)}return t.$set=t=>{"options"in t&&n(0,c=t.options),"optionComponent"in t&&n(1,i=t.optionComponent),"textKey"in t&&n(2,l=t.textKey),"childKey"in t&&n(3,r=t.childKey),"getFormatted"in t&&n(4,s=t.getFormatted),"isSelected"in t&&n(5,u=t.isSelected)},[c,i,l,r,s,u,f,o,function(e){w(t,e)},(t,e)=>f(t)]}class ct extends V{constructor(t){super(),R(this,t,ot,nt,l,{options:0,optionComponent:1,textKey:2,childKey:3,getFormatted:4,isSelected:5})}}var it={formatByType:(t,e,n,o)=>t&&"function"==typeof t[e]?t[e](n):n[o]};function lt(t){let e,n,o,c,i,l=t[0].length+"";return{c(){e=f("div"),n=a("showing "),o=a(l),c=a(" of "),i=a(t[4]),m(e,"class","sub-text")},m(t,l){s(t,e,l),r(e,n),r(e,o),r(e,c),r(e,i)},p(t,e){1&e&&l!==(l=t[0].length+"")&&g(o,l),16&e&&g(i,t[4])},d(t){t&&u(e)}}}function rt(e){let n;return{c(){n=f("div"),n.textContent="No results found",m(n,"class","sub-text")},m(t,e){s(t,n,e)},p:t,d(t){t&&u(n)}}}function st(t){let e,n,o,c;const i=new ct({props:{options:t[0],textKey:t[2],childKey:t[3],getFormatted:t[5],isSelected:t[6],optionComponent:t[1]}});function l(t,e){return 0===t[4]?rt:void 0!==t[4]&&t[4]!==t[0].length?lt:void 0}i.$on("selection",t[16]);let a=l(t),p=a&&a(t);return{c(){e=f("div"),n=f("div"),G(i.$$.fragment),o=d(),p&&p.c(),m(n,"class","opt-container"),m(e,"class","slmd-dropdown")},m(l,u){s(l,e,u),r(e,n),J(i,n,null),t[17](n),r(e,o),p&&p.m(e,null),c=!0},p(t,[n]){const o={};1&n&&(o.options=t[0]),4&n&&(o.textKey=t[2]),8&n&&(o.childKey=t[3]),32&n&&(o.getFormatted=t[5]),64&n&&(o.isSelected=t[6]),2&n&&(o.optionComponent=t[1]),i.$set(o),a===(a=l(t))&&p?p.p(t,n):(p&&p.d(1),p=a&&a(t),p&&(p.c(),p.m(e,null)))},i(t){c||(H(i.$$.fragment,t),c=!0)},o(t){I(i.$$.fragment,t),c=!1},d(n){n&&u(e),Q(i),t[17](null),p&&p.d()}}}function ut(t,e,n){const o=C();let c,{options:i=[]}=e,{optionComponent:l}=e,{textKey:r="name"}=e,{childKey:s="id"}=e,{totalCount:u}=e,{getFormatted:f=function(t,e){return it.formatByType(void 0,t,e,r)}}=e,{isSelected:a=function(){return!1}}=e;var d;function p(){A().then((function(){m()}))}function h(){let t=c.querySelector(".selected");return t||(t=c.querySelector(".o")),t}function m(){let t=c.querySelector(".selected");return t&&(t.offsetTop+t.clientHeight>c.scrollTop+c.clientHeight||t.offsetTop<c.scrollTop)&&n(7,c.scrollTop=t.offsetTop,c),t}return d=()=>{m()},b().$$.on_mount.push(d),t.$set=t=>{"options"in t&&n(0,i=t.options),"optionComponent"in t&&n(1,l=t.optionComponent),"textKey"in t&&n(2,r=t.textKey),"childKey"in t&&n(3,s=t.childKey),"totalCount"in t&&n(4,u=t.totalCount),"getFormatted"in t&&n(5,f=t.getFormatted),"isSelected"in t&&n(6,a=t.isSelected)},t.$$.update=()=>{1&t.$$.dirty&&p()},[i,l,r,s,u,f,a,c,function(){let t=h();if(t){let e;t.classList.contains("selected")?(t.classList.remove("selected"),e=t.previousElementSibling):e=t,e||(e=c.querySelector("li.o:last-child")),e&&e.classList.add("selected")}m()},function(){let t=h();if(t){let e;t.classList.contains("selected")?(t.classList.remove("selected"),e=t.nextElementSibling):e=t,e||(e=c.querySelector("li.o:first-child")),e&&e.classList.add("selected")}m()},function(){let t=c.querySelector(".selected");return!!t&&(t.click(),!0)},function(){let t=h();t&&t.classList.contains("selected")&&t.classList.remove("selected")},o,p,h,m,function(e){w(t,e)},function(t){_[t?"unshift":"push"](()=>{n(7,c=t)})}]}class ft extends V{constructor(t){super(),R(this,t,ut,st,l,{options:0,optionComponent:1,textKey:2,childKey:3,totalCount:4,getFormatted:5,isSelected:6,moveUp:8,moveDown:9,selectFocused:10,clearSelected:11})}get moveUp(){return this.$$.ctx[8]}get moveDown(){return this.$$.ctx[9]}get selectFocused(){return this.$$.ctx[10]}get clearSelected(){return this.$$.ctx[11]}}var at={getUUID:()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})),closest(t,e){for(;t!==e;)if(!(t=t.parentNode))return null;return t}};class dt{constructor(t,e){this._rsvp=new Promise(t),this._isActive=!0,this._onCancel=e}getId(){return this._uuid||(this._uuid=at.getUUID()),this._uuid}cancel(){return this._isActive=!1,this._onCancel&&this._onCancel(),this}then(t,e){let n=this;return this._rsvp.then((function(e){n._isActive&&t&&t(e)}),(function(t){n._isActive&&e&&e(t)})),this}finally(t){let e=this;return this._rsvp.finally((function(){e._isActive&&t()})),this}}function pt(t,e,n,o){let c=[];return t.forEach(t=>{if(t[e]){if(!o||n(t)){let i=pt(t[e],e,n,o);if(i.length>0){let n={};n[e]=i,c.push(Object.assign({},t,n))}}}else n(t)&&c.push(t)}),c}function ht(t,e){return-1!==t.toLowerCase().trim().indexOf(e.toLowerCase().trim())}var mt={subTree:pt,stringContains:ht,filterDataTree:function(t,e,n,o){return pt(t,e,(function(t){return ht(t[n],o)}))}};function gt(t,e,n){const o=t.slice();return o[46]=e[n],o[48]=n,o}function yt(t){let e;return{c(){e=a(t[2])},m(t,n){s(t,e,n)},p(t,n){4&n[0]&&g(e,t[2])},d(t){t&&u(e)}}}function $t(t){let e,n=[],o=new Map,c=t[0];const i=t=>t[46][t[6]];for(let e=0;e<c.length;e+=1){let l=gt(t,c,e),r=i(l);o.set(r,n[e]=vt(r,l))}return{c(){for(let t=0;t<n.length;t+=1)n[t].c();e=p()},m(t,o){for(let e=0;e<n.length;e+=1)n[e].m(t,o);s(t,e,o)},p(t,c){if(4718593&c[0]){const l=t[0];n=function(t,e,n,o,c,i,l,r,s,u,f,a){let d=t.length,p=i.length,h=d;const m={};for(;h--;)m[t[h].key]=h;const g=[],y=new Map,$=new Map;for(h=p;h--;){const t=a(c,i,h),r=n(t);let s=l.get(r);s?o&&s.p(t,e):(s=u(r,t),s.c()),y.set(r,g[h]=s),r in m&&$.set(r,Math.abs(h-m[r]))}const x=new Set,v=new Set;function K(t){H(t,1),t.m(r,f,l.has(t.key)),l.set(t.key,t),f=t.first,p--}for(;d&&p;){const e=g[p-1],n=t[d-1],o=e.key,c=n.key;e===n?(f=e.first,d--,p--):y.has(c)?!l.has(o)||x.has(o)?K(e):v.has(c)?d--:$.get(o)>$.get(c)?(v.add(o),K(e)):(x.add(c),d--):(s(n,l),d--)}for(;d--;){const e=t[d];y.has(e.key)||s(e,l)}for(;p;)K(g[p-1]);return g}(n,c,i,1,t,l,o,e.parentNode,z,vt,e,gt)}},d(t){for(let e=0;e<n.length;e+=1)n[e].d(t);t&&u(e)}}}function xt(t){let e,n=t[17]&&Kt(t);return{c(){n&&n.c(),e=p()},m(t,o){n&&n.m(t,o),s(t,e,o)},p(t,o){t[17]?n?n.p(t,o):(n=Kt(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&u(e)}}}function vt(t,e){let n,o,c,i,l,p,y=e[19]("selected",e[46])+"";function $(...t){return e[40](e[48],...t)}return{key:t,first:null,c(){n=f("span"),o=a(y),c=d(),i=f("span"),i.textContent="×",l=d(),m(n,"class","tag"),this.first=n},m(t,e,u){s(t,n,e),r(n,o),r(n,c),r(n,i),r(n,l),u&&p(),p=h(i,"click",$)},p(t,n){e=t,1&n[0]&&y!==(y=e[19]("selected",e[46])+"")&&g(o,y)},d(t){t&&u(n),p()}}}function Kt(t){let e,n=(t[0]?t[19]("selected",t[0]):t[2])+"";return{c(){e=a(n)},m(t,n){s(t,e,n)},p(t,o){5&o[0]&&n!==(n=(t[0]?t[19]("selected",t[0]):t[2])+"")&&g(e,n)},d(t){t&&u(e)}}}function bt(t){let e,n,o=t[12]?"chevron-up":"chevron-down";return{c(){e=f("span"),n=a(o)},m(t,o){s(t,e,o),r(e,n)},p(t,e){4096&e[0]&&o!==(o=t[12]?"chevron-up":"chevron-down")&&g(n,o)},d(t){t&&u(e)}}}function Ct(e){let n;return{c(){n=f("div"),n.innerHTML='<div class="spinner-border"></div>',m(n,"class","loader")},m(t,e){s(t,n,e)},p:t,d(t){t&&u(n)}}}function wt(t){let e,n={options:t[13],textKey:t[5],childKey:t[7],getFormatted:t[19],isSelected:t[18],totalCount:t[15]};const o=new ft({props:n});return t[44](o),o.$on("selection",t[21]),{c(){G(o.$$.fragment)},m(t,n){J(o,t,n),e=!0},p(t,e){const n={};8192&e[0]&&(n.options=t[13]),32&e[0]&&(n.textKey=t[5]),128&e[0]&&(n.childKey=t[7]),32768&e[0]&&(n.totalCount=t[15]),o.$set(n)},i(t){e||(H(o.$$.fragment,t),e=!0)},o(t){I(o.$$.fragment,t),e=!1},d(e){t[44](null),Q(o,e)}}}function St(t){let e,n,o,i,l,a,p,g,v,K,b;function C(t,e){return t[4]?t[0]&&t[0].length>0?$t:t[17]?yt:void 0:xt}let w=C(t),S=w&&w(t);function _(t,e){return"loading"===t[14]&&t[12]?Ct:bt}let k=_(t),F=k(t),E=t[12]&&wt(t);return{c(){e=f("div"),n=f("div"),o=f("div"),S&&S.c(),i=d(),l=f("input"),a=d(),p=f("div"),F.c(),g=d(),E&&E.c(),function(t,e){try{t.type=e}catch(t){}}(l,"text"),m(l,"class","search-input"),m(l,"placeholder","search"),$(l,"width",.6*(t[11].length+1)+"em"),x(l,"hidden",t[17]),m(o,"class","slmd-inner"),m(p,"class","status-ind"),m(n,"class","selected-option"),x(n,"placeholder",!t[0]||t[4]&&0===t[0].length),m(e,"class",v="select-madu "+t[1]),m(e,"tabindex","0"),x(e,"multiple",t[4]),x(e,"open",t[12]),x(e,"disabled",t[3])},m(u,f,d){s(u,e,f),r(e,n),r(n,o),S&&S.m(o,null),r(o,i),r(o,l),t[41](l),y(l,t[11]),r(n,a),r(n,p),F.m(p,null),t[43](n),r(e,g),E&&E.m(e,null),t[45](e),K=!0,d&&c(b),b=[h(window,"click",t[24]),h(l,"input",t[42]),h(l,"focus",t[26]),h(l,"blur",t[27]),h(o,"click",t[23]),h(p,"click",t[20]),h(e,"keydown",t[25])]},p(t,c){w===(w=C(t))&&S?S.p(t,c):(S&&S.d(1),S=w&&w(t),S&&(S.c(),S.m(o,i))),(!K||2048&c[0])&&$(l,"width",.6*(t[11].length+1)+"em"),2048&c[0]&&l.value!==t[11]&&y(l,t[11]),131072&c[0]&&x(l,"hidden",t[17]),k===(k=_(t))&&F?F.p(t,c):(F.d(1),F=k(t),F&&(F.c(),F.m(p,null))),17&c[0]&&x(n,"placeholder",!t[0]||t[4]&&0===t[0].length),t[12]?E?(E.p(t,c),H(E,1)):(E=wt(t),E.c(),H(E,1),E.m(e,null)):E&&(P(),I(E,1,1,()=>{E=null}),j()),(!K||2&c[0]&&v!==(v="select-madu "+t[1]))&&m(e,"class",v),18&c[0]&&x(e,"multiple",t[4]),4098&c[0]&&x(e,"open",t[12]),10&c[0]&&x(e,"disabled",t[3])},i(t){K||(H(E),K=!0)},o(t){I(E),K=!1},d(n){n&&u(e),S&&S.d(),t[41](null),F.d(),t[43](null),E&&E.d(),t[45](null),c(b)}}}function _t(t,e,n){const o=C();let c,i,l,{classes:r=""}=e,{placeholder:s="Select option"}=e,{selected:u}=e,{datasource:f=[]}=e,{disabled:a=!1}=e,{multiple:d=!1}=e,{search:p=!0}=e,{textKey:h="text"}=e,{valueKey:m="text"}=e,{childKey:g="children"}=e,{formatters:y=null}=e;let $,x,v="",K=!1,b=[],w="loading",S=!1,k=0;function F(t,e,o){n(14,w="loading"),x&&x.cancel(),x=function(t,e,n,o,c){if(t){let i="function"==typeof t,l=i?t(e,c):mt.filterDataTree(t,o,n,e);return new dt((function(t,e){i?l.then((function(e){t({content:e.content,count:e.count})}),(function(){e()})):t({content:l})}),(function(){i&&l.cancel()}))}return new dt((function(t,e){e()}))}(t,e,h,g),x.then((function(t){E(o,t.content,t.count),n(14,w="ready")}),(function(){n(14,w="error")}))}function E(t,e,o){if(n(13,b=e),n(15,k=o),!t&&!u&&b.length>0){let t=b[0];for(;t[g];)t=t[g][0];M(t)}}function L(){n(12,K=!0),A().then((function(){i&&i.focus()}))}function T(){n(12,K=!1),n(11,v="")}function N(t){S=!0,u.splice(t,1),M([].concat(u))}function M(t){n(0,u=t),A().then((function(){o("selection",u)}))}let q;return t.$set=t=>{"classes"in t&&n(1,r=t.classes),"placeholder"in t&&n(2,s=t.placeholder),"selected"in t&&n(0,u=t.selected),"datasource"in t&&n(28,f=t.datasource),"disabled"in t&&n(3,a=t.disabled),"multiple"in t&&n(4,d=t.multiple),"search"in t&&n(29,p=t.search),"textKey"in t&&n(5,h=t.textKey),"valueKey"in t&&n(6,m=t.valueKey),"childKey"in t&&n(7,g=t.childKey),"formatters"in t&&n(30,y=t.formatters)},t.$$.update=()=>{268437520&t.$$.dirty[0]&&F(f,v,d),536875008&t.$$.dirty[0]&&n(17,q=!K||!p)},[u,r,s,a,d,h,m,g,c,i,l,v,K,b,w,k,$,q,function(t){return d?u&&-1!==u.map(t=>t[m]).indexOf(t[m]):!t.disabled&&u&&u[m]===t[m]},function(t,e){return it.formatByType(y,t,e,h)},function(){S=!0,K?T():L()},function(t){let e=t.detail;d?(u?u.find(t=>t[m]===e[m])||M([...u,e]):M([e]),n(11,v=""),L()):(u!==e&&M(e),T())},N,function(){A().then((function(){S||L(),S=!1}))},function(){K&&A().then((function(){S||at.closest(event.target,c)||T(),S=!1}))},function(t){13===t.keyCode?K?l&&l.selectFocused()&&T():L():27===t.keyCode||9===t.keyCode?K&&T():40===t.keyCode?K?l&&l.moveDown():L():38===t.keyCode&&l&&l.moveUp()},function(){c.classList.add("focus")},function(){c.classList.remove("focus")},f,p,y,function(){return u},S,x,o,F,E,L,T,M,(t,e)=>N(t),function(t){_[t?"unshift":"push"](()=>{n(9,i=t)})},function(){v=this.value,n(11,v)},function(t){_[t?"unshift":"push"](()=>{n(16,$=t)})},function(t){_[t?"unshift":"push"](()=>{n(10,l=t)})},function(t){_[t?"unshift":"push"](()=>{n(8,c=t)})}]}return class extends V{constructor(t){super(),R(this,t,_t,St,l,{classes:1,placeholder:2,selected:0,datasource:28,disabled:3,multiple:4,search:29,textKey:5,valueKey:6,childKey:7,formatters:30,getSelected:31},[-1,-1])}get getSelected(){return this.$$.ctx[31]}}}();
//# sourceMappingURL=selectmadu.min.js.map
